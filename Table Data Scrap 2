import requests
from bs4 import BeautifulSoup
import pandas as pd
from IPython.display import display

url = "https://en.wikipedia.org/wiki/List_of_largest_companies_in_the_United_States_by_revenue"
response = requests.get(url)
soup = BeautifulSoup(response.text, 'html.parser')

# Find all tables
tables = soup.find_all('table')

# Get second table (index 1)
table2 = tables[1]

# Convert HTML table to DataFrame
df2 = pd.read_html(str(table2))[0]

# Clean column headers
df2.columns = [col.strip() for col in df2.columns]

# Display with nice styling
display(df2.style.set_table_styles([
    {'selector': 'th', 'props': [('background-color', '#1f77b4'), ('color', 'white'), ('text-align', 'left')]},
    {'selector': 'tr:nth-child(even)', 'props': [('background-color', '#e7f0fd')]},
    {'selector': 'tr:hover', 'props': [('background-color', '#d0e4f7')]}
]).set_properties(**{'text-align': 'left'}))
